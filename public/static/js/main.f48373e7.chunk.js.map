{"version":3,"sources":["images/spinner.gif","images/logo-light.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ConfirmPopup.js","components/ImagePopup.js","utils/api.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","id","type","aria-label","onClick","link","name","length","Main","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","cards","avatar","about","map","Footer","PopupWithForm","onSubmit","isLoading","isOpen","handleCloseAllPopups","title","buttonText","children","buttonStateDisabled","action","noValidate","disabled","EditProfilePopup","onClose","onUpdateUser","useEffect","setName","setButtonStateDisabled","setDescription","useState","description","nameRef","useRef","descriptionRef","nameInputError","setNameInputError","descriptionInputError","setDescriptionInputError","validate","current","validity","valid","validationMessage","e","preventDefault","ref","onChange","target","value","minLength","maxLength","placeholder","required","EditAvatarPopup","onUpdateAvatar","linkRef","linkInputError","setLinkInputError","ConfirmPopup","onConfirm","ImagePopup","api","options","this","baseURL","headers","fetch","cohort","then","res","ok","json","Promise","reject","status","catch","err","console","log","method","body","JSON","stringify","data","cardId","removeCardLike","likeCard","authorization","AddPlacePopup","onAddPlace","setLink","App","spinner","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","getUserInfo","setCards","getInitialCards","setIsLoading","closeAllPopups","Provider","handleConfirmClick","i","changeLikeCardStatus","newCard","newCards","c","updateAvatar","setUserInfo","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f48373e7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/spinner.7cbcce72.gif\";","export default __webpack_public_path__ + \"static/media/logo-light.c2821b38.svg\";","import logo from \"../images/logo-light.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Логотип Mesto\" className=\"logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext;\r\n","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `${\r\n    isOwn ? \"card__delete\" : \"card__delete_hidden\"\r\n  }`;\r\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"card__like card__like_active\" : \"card__like\"\r\n  }`;\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n  return (\r\n    <div className=\"card\" id={`id${card._id}`}>\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        aria-label=\"Удалить карточку\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"card__photo\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"card__row\">\r\n        <h2 className=\"card__name\">{card.name}</h2>\r\n        <div className=\"card__column\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            aria-label=\"Мне нравится это фото\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"card__like-count\">\r\n            {card.likes.length ? card.likes.length : 0}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nfunction Main({\r\n  handleEditAvatarClick,\r\n  handleEditProfileClick,\r\n  handleAddPlaceClick,\r\n  handleCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__group\">\r\n          <div className=\"profile__photo-group\">\r\n            <div\r\n              className=\"profile__edit-avatar\"\r\n              onClick={handleEditAvatarClick}\r\n            ></div>\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Моё фото\"\r\n              className=\"profile__avatar\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__row\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit-btn\"\r\n                aria-label=\"Редактировать профиль\"\r\n                onClick={handleEditProfileClick}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__profession\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-btn\"\r\n          aria-label=\"Добавить фото\"\r\n          onClick={handleAddPlaceClick}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function PopupWithForm({\n  name,\n  onSubmit,\n  isLoading,\n  isOpen,\n  handleCloseAllPopups,\n  title,\n  buttonText,\n  children,\n  buttonStateDisabled,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-btn\"\n          aria-label=\"Закрыть окно\"\n          onClick={handleCloseAllPopups}\n        ></button>\n        <div className=\"popup__elements\">\n          <h2 className=\"popup__title\">{title}</h2>\n          <form\n            action=\"submit\"\n            className=\"popup__form\"\n            name={name}\n            onSubmit={onSubmit}\n            noValidate\n          >\n            {children}\n            <button\n              type=\"submit\"\n              className={`popup__save ${\n                buttonStateDisabled ? \"popup__save_disabled\" : \"\"\n              }`}\n              aria-label=\"Сохранить\"\n              disabled={buttonStateDisabled}\n            >\n              {\" \"}\n              {isLoading ? \"Сохранение...\" : buttonText}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setButtonStateDisabled(true);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n  //инпуты\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const nameRef = React.useRef();\n  const descriptionRef = React.useRef();\n  //спаны ошибок\n  const [nameInputError, setNameInputError] = React.useState();\n  const [descriptionInputError, setDescriptionInputError] = React.useState();\n\n  const [buttonStateDisabled, setButtonStateDisabled] = React.useState(true);\n\n  function validate() {\n    if (\n      nameRef.current.validity.valid &&\n      descriptionRef.current.validity.valid\n    ) {\n      setNameInputError(\"\");\n      setDescriptionInputError(\"\");\n      setButtonStateDisabled(false);\n    } else {\n      setNameInputError(nameRef.current.validationMessage);\n      setDescriptionInputError(descriptionRef.current.validationMessage);\n      setButtonStateDisabled(true);\n    }\n  }\n  function handleNameChange(e) {\n    setName(e.target.value);\n    validate();\n  }\n\n  function handleDesriptionChange(e) {\n    setDescription(e.target.value);\n    validate();\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n      avatar: currentUser.avatar,\n    });\n  }\n  return (\n    <PopupWithForm\n      buttonStateDisabled={buttonStateDisabled}\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      name=\"edit-info\"\n      buttonText=\"Сохранить\"\n      handleCloseAllPopups={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n      <>\n        <label className=\"popup__field\">\n          <input\n            ref={nameRef}\n            onChange={handleNameChange}\n            value={name}\n            type=\"text\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            id=\"profile-name\"\n            className=\"popup__input popup__input_type_name\"\n            placeholder=\"Имя профиля\"\n            required\n          />\n          <span\n            className={`popup__error ${\n              nameInputError ? \"popup__error_visible\" : \"\"\n            }`}\n            id=\"profile-name-error\"\n          >\n            {nameInputError}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            ref={descriptionRef}\n            onChange={handleDesriptionChange}\n            value={description}\n            type=\"text\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            id=\"profile-profession\"\n            className=\"popup__input popup__input_type_profession\"\n            placeholder=\"Профессия\"\n            required\n          />\n          <span\n            className={`popup__error ${\n              descriptionInputError ? \"popup__error_visible\" : \"\"\n            }`}\n            id=\"profile-profession-error\"\n          >\n            {descriptionInputError}\n          </span>\n        </label>\n      </>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  const linkRef = React.useRef();\n  const [buttonStateDisabled, setButtonStateDisabled] = React.useState(true);\n  const [linkInputError, setLinkInputError] = React.useState(false);\n  function validate() {\n    if (linkRef.current.validity.valid) {\n      setLinkInputError(\"\");\n      setButtonStateDisabled(false);\n    } else {\n      setLinkInputError(linkRef.current.validationMessage);\n      setButtonStateDisabled(true);\n    }\n  }\n  function handleLinkChange() {\n    validate();\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(linkRef.current.value);\n    linkRef.current.value = \"\";\n    setButtonStateDisabled(true);\n  }\n  return (\n    <PopupWithForm\n      buttonStateDisabled={buttonStateDisabled}\n      title=\"Обновить аватар\"\n      isOpen={isOpen}\n      buttonText=\"Сохранить\"\n      name=\"update-avatar\"\n      handleCloseAllPopups={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n      <label className=\"popup__field\">\n        <input\n          ref={linkRef}\n          onChange={handleLinkChange}\n          type=\"url\"\n          id=\"url-link\"\n          className=\"popup__input popup__input_type_link\"\n          placeholder=\"Ссылка на фото\"\n          required\n        />\n        <span\n          className={`popup__error ${\n            linkInputError ? \"popup__error_visible\" : \"\"\n          }`}\n          id=\"url-link-error\"\n        >\n          {linkInputError}\n        </span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nfunction ConfirmPopup({ isOpen, onClose, onConfirm, card, isLoading }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onConfirm(card);\n  }\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      isOpen={isOpen}\n      name=\"confirm\"\n      buttonText=\"Да\"\n      handleCloseAllPopups={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    />\n  );\n}\nexport default ConfirmPopup;\n","function ImagePopup({ isOpen, handleCloseAllPopups, card }) {\n  return (\n    <div\n      className={`popup popup_type_view-image ${\n        card && isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          type=\"button\"\n          className=\"popup__close-btn\"\n          aria-label=\"Закрыть окно\"\n          onClick={handleCloseAllPopups}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            src={card && card.link}\n            alt={card && card.name}\n            className=\"popup__image\"\n          />\n          <figcaption className=\"popup__caption\">\n            {card && card.name}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\nexport default ImagePopup;\n","//file rename\r\nclass Api {\r\n  constructor(options) {\r\n    this.baseURL = options.baseURL;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this.baseURL + \"/v1/\" + this.headers.cohort + \"/cards\", {\r\n      headers: this.headers,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n      .then((res) => {\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(this.baseURL + \"/v1/\" + this.headers.cohort + \"/cards/\", {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    })\r\n      .then((data) => {\r\n        return data.json();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(\r\n      this.baseURL + \"/v1/\" + this.headers.cohort + \"/cards/\" + cardId,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: this.headers,\r\n      }\r\n    ).catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(\r\n      this.baseURL + \"/v1/\" + this.headers.cohort + \"/cards/likes/\" + cardId,\r\n      {\r\n        method: \"PUT\",\r\n        headers: this.headers,\r\n      }\r\n    )\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  removeCardLike(cardId) {\r\n    return fetch(\r\n      this.baseURL + \"/v1/\" + this.headers.cohort + \"/cards/likes/\" + cardId,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: this.headers,\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked){\r\n    if(isLiked === true){\r\n      return this.removeCardLike(cardId);\r\n    }else{\r\n      return this.likeCard(cardId);\r\n    }\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this.baseURL + \"/v1/\" + this.headers.cohort + \"/users/me\", {\r\n      headers: this.headers,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  setUserInfo(name, about) {\r\n    return fetch(this.baseURL + \"/v1/\" + this.headers.cohort + \"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res;\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return fetch(\r\n      this.baseURL + \"/v1/\" + this.headers.cohort + \"/users/me/avatar\",\r\n      {\r\n        method: \"PATCH\",\r\n        headers: this.headers,\r\n        body: JSON.stringify({\r\n          avatar: link,\r\n        }),\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res;\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}\r\n\r\nconst options = {\r\n  baseURL: \"https://mesto.nomoreparties.co\",\r\n  headers: {\r\n    authorization: \"9451417e-55c5-458c-a47b-214236171470\",\r\n    cohort: \"cohort-17\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\nconst api = new Api(options);\r\nexport default api;\r\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [nameInputError, setNameInputError] = React.useState();\n  const [linkInputError, setLinkInputError] = React.useState();\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n  const [buttonStateDisabled, setButtonStateDisabled] = React.useState(true);\n  function validate() {\n    if (nameRef.current.validity.valid && linkRef.current.validity.valid) {\n      setButtonStateDisabled(false);\n      setNameInputError(\"\");\n      setLinkInputError(\"\");\n    } else {\n      setButtonStateDisabled(true);\n      setNameInputError(nameRef.current.validationMessage);\n      setLinkInputError(linkRef.current.validationMessage);\n    }\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace(name, link);\n    setName(\"\");\n    setLink(\"\");\n    setNameInputError(\"\");\n    setLinkInputError(\"\");\n    setButtonStateDisabled(true);\n  }\n  function handleNameChange(e) {\n    setName(e.target.value);\n    validate();\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n    validate();\n  }\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      isOpen={isOpen}\n      name=\"add-image\"\n      buttonText=\"Сохранить\"\n      handleCloseAllPopups={onClose}\n      onSubmit={handleAddPlaceSubmit}\n      isLoading={isLoading}\n      buttonStateDisabled={buttonStateDisabled}\n    >\n      <>\n        <label className=\"popup__field\">\n          <input\n            ref={nameRef}\n            type=\"text\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            id=\"card-title\"\n            onChange={handleNameChange}\n            value={name}\n            className=\"popup__input popup__input_type_title\"\n            placeholder=\"Название\"\n            required\n          />\n          <span\n            className={`popup__error ${\n              nameInputError ? \"popup__error_visible\" : \"\"\n            }`}\n            id=\"card-title-error\"\n          >\n            {nameInputError}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            ref={linkRef}\n            type=\"url\"\n            id=\"card-link\"\n            onChange={handleLinkChange}\n            value={link}\n            className=\"popup__input popup__input_type_link\"\n            placeholder=\"Ссылка на картинку\"\n            required\n          />\n          <span\n            className={`popup__error ${\n              linkInputError ? \"popup__error_visible\" : \"\"\n            }`}\n            id=\"card-link-error\"\n          >\n            {linkInputError}\n          </span>\n        </label>\n      </>\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from \"react\";\nimport spinner from \"../images/spinner.gif\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nfunction App() {\n  // О пользователе\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"Загрузка...\",\n    about: \"Загрузка...\",\n    avatar: spinner,\n  });\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api\n      .setUserInfo(user.name, user.about)\n      .then((res) => {\n        if (res.ok) {\n          setCurrentUser(user);\n          setIsLoading(false);\n          closeAllPopups();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    api\n      .updateAvatar(avatar)\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n      })\n      .then((res) => {\n        const user = { name: res.name, about: res.about, avatar: res.avatar };\n        setCurrentUser(user);\n        setIsLoading(false);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // О карточках\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cards) => {\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }\n  function handleConfirmCardDelete(card) {\n    setIsLoading(true);\n    api\n      .deleteCard(card._id)\n      .then((res) => {\n        if (res.ok) {\n          const newCards = cards.filter(function (c) {\n            return c._id !== card._id;\n          });\n          setCards(newCards);\n          closeAllPopups();\n          setIsLoading(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardDelete(card) {\n    setSelectedCard(card);\n    setIsConfirmPopupOpen(true);\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    setIsLoading(true);\n    api\n      .addCard(name, link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsLoading(false);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Кнопки интерфейса и попапы\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleConfirmClick() {\n    setIsConfirmPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard();\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"wrapper\">\n          <div className=\"page\">\n            <Header />\n            <Main\n              handleEditAvatarClick={handleEditAvatarClick}\n              handleEditProfileClick={handleEditProfileClick}\n              handleAddPlaceClick={handleAddPlaceClick}\n              handleConfirmClick={handleConfirmClick}\n              handleCardClick={handleCardClick}\n              handleCloseAllPopups={closeAllPopups}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n\n            <Footer />\n            {/* Попап редактирования аватара */}\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n              isLoading={isLoading}\n            />\n\n            {/* Попап редактирования профиля */}\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n              isLoading={isLoading}\n            />\n            {/* Попап добавления карточки */}\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n              isLoading={isLoading}\n            />\n            {/* Попап подтверждения */}\n            <ConfirmPopup\n              isOpen={isConfirmPopupOpen}\n              onClose={closeAllPopups}\n              isLoading={isLoading}\n              card={selectedCard}\n              onConfirm={handleConfirmCardDelete}\n            />\n            {/* Попап с картинкой */}\n            <ImagePopup\n              card={selectedCard}\n              handleCloseAllPopups={closeAllPopups}\n              isOpen={isImagePopupOpen}\n            />\n          </div>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}